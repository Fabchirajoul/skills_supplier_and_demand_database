<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>COMPANY | SSDD</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <script src="/static/js/addworkhistory.js"></script>


    
 <!-- Include Alpine.js library -->

<script src="/static/js/code.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

    <style>


      
      html,
      body {
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      .content {
        flex: 1 0 auto;
      }
      .footer {
        flex-shrink: 0;
        width: 100%;
        margin-top: auto;
      }

      .card {
        height: auto; /* Adjust height as needed */

        background-size: cover; /* Ensures the image covers the container */
        background-position: center; /* Centers the image */
        background-repeat: no-repeat; /* Prevents repeating */
        width: 100%; /* Ensures it takes full width */
      }

      .sidebar ul {
        list-style-type: none;
        padding: 0;
      }

      .sidebar ul li {
        padding: 10px;
        cursor: pointer;
        border-radius: 8px;
        transition: background 0.3s;
      }

      .sidebar ul li:hover {
        background-color: #8f6620;
        color: white;
      }

      .cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-bottom: 20px;
      }

      .grouped-card-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        width: 100%;
        height: auto;
        max-width: 1200px;
        margin-top: 30px; /* Added space above grouped-card-container */
      }

      .card-container {
        display: flex;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
        width: 100%;
      }

      .dashboard_flex {
        display: flex;
        justify-content: center; /* Center items horizontally */
        align-items: center; /* Center items vertically */
        gap: 30px; /* Space between items */
        text-align: center; /* Ensures text is centered */
        padding: 20px;
      }

      .dashboard_flex .col-md-5 {
        display: flex;
        flex-direction: column;
        align-items: center; /* Center content inside each column */
        justify-content: center; /* Align items in the middle */
        background: white; /* Optional background */
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Optional shadow */
        width: 100%;
        max-width: 400px; /* Limit max width */
      }

      .dashboard_flex img {
        width: 100px; /* Adjust image size */
        height: auto;
        margin-bottom: 10px;
      }

      .dashboard_flex button {
        margin-top: 15px;
        background-color: #007bff; /* Bootstrap primary color */
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 8px;
        cursor: pointer;
      }

      .dashboard_flex button:hover {
        background-color: #0056b3; /* Darker on hover */
      }

      .no-underline {
        text-decoration: none;
        color: inherit; /* Keeps the default text color */
      }

      .no-underline:hover {
        text-decoration: none; /* Ensures it stays without underline on hover */
        color: #007bff; /* Change color on hover if needed */
      }
    </style>

    <!-- Font Awesome CDN (Latest Version) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
  </head>
  <body x-data="CHIETASSDDPHASE1">
    <nav
      class="navbar navbar-expand-lg navbar-light bg-primary-subtle px-3 py-5 mb-2"
    >
      <img src="/static/images/chietaLogo.png" alt="Chieta Logo" />
      <div class="collapse navbar-collapse" id="navbarContent"></div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 p-4">
          <div class="sidebar">
            <div class="graduate-icon">
              <!-- <img src="/static/images/logo_simplebbbbbbbbbbbbbb.png" alt=" " style="width: 130px;">-->
            </div>
            <br />

            <ul>
              <li>
                <a href="{{ url_for('DashboardAdministrator') }}" class="no-underline"
                  ><i class="fa-solid fa-home"></i> HOME</a
                >
              </li>
              <li>
                <a href="" class="no-underline"
                  ><i class="fa-solid fa-user"></i>PLACEMENT REPORT</a
                >
              </li>
              <li>
                <a href="" class="no-underline"
                  ><i class="fa-solid fa-graduation-cap"></i> NON PLACEMENT REPORT</a
                >
              </li>
              <li>
                <a href="" class="no-underline"
                  ><i class="fa-solid fa-briefcase"></i> REPORT CV DOWNLOADS</a
                >
              </li>
              <li>
                <a href="" class="no-underline"
                  ><i class="fa-solid fa-paperclip"></i> INACTIVE PROFILES</a
                >
              </li>
              <li>
                <a
                  href="{{ url_for('dashboardGenerateCV') }}"
                  class="no-underline"
                  ><i class="fa-solid fa-file"></i> MONTHLY SIGNUPS</a
                >
              </li>
             

              <li>
                <a href="{{ url_for('logout') }}" class="no-underline"
                  ><i class="fa-solid fa-life-ring"></i> SIGN-OUT</a
                >
              </li>
            </ul>

            <img src="/static/images/rb_2149331949.png" alt="" width="199px" />
          </div>
        </div>

        <div class="col-md-10 bg-secondary text-white p-4">
          
            <div class="row">

             

              <div class="d-flex justify-content-start mt-4">
                <button type="submit" class="btn btn-success"  @click="filter_container = !filter_container">FILTER OPTIONS</button>
              </div>
            
            <br>
              <div class="card-body p-2" x-show="filter_container" x-transition>
               
                <form action="/filter_applicants_admin" method="GET">
                
          
                 
          
                  <!-- Row 2 -->
                  <div class="row mb-3">
                      <div class="col-md-4">
                        <label class="form-label"><b>Qualification</b></label>
                        <select name="Qualification" class="form-select">
                            <option value="">--- Select Qualification * ---</option>
                            {% for qualification in distinct_data.qualification_types %}
                            <option value="{{ qualification }}">{{ qualification }}</option>
                            {% endfor %}
                        </select>
                    
                    
                    
                    
                    </div>
                      
                      
                      
                      
                      
                      <div class="col-md-4">
                      <label for="city" class="form-label"><b>City/Town of residence</b></label>
                      <input type="text" name="City_and_town_of_residence" class="form-control" id="city" placeholder="Town/City *" >
                      </div>
                      <div class="col-md-4">
                       
                          <label for="disability" class="form-label"><b>Disability</b></label>
                          <select  name="Disability" class="form-select">
                            <option value="">-- Select Disability --</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                          
                          </select>
                        
                        
                        </div>
                      
                  </div>
          
                  <!-- Row 3 -->
                  <div class="row mb-3">
                      <div class="col-md-4">
                      <label for="state" class="form-label"><b>Province/State</b></label>
                      <select class="form-select" id="province" name="Province" onchange="document.getElementById('selected-province').value = this.value">
                        <option value="">--- Select Province * ---</option>
                        
                        <option value="Gauteng">Gauteng</option>
                        <option value="Free State">Free State</option>
                        <option value="Mpumalanga">Mpumalanga</option>
                        <option value="Kwa-Zulu Natal">Kwa-Zulu Natal</option>
                        <option value="North West">North West</option>
                        <option value="Eastern Cape">Eastern Cape</option>
                        <option value="Western Cape">Western Cape</option>
                        <option value="Limpopo">Limpopo</option>
                        <option value="Northern Cape">Northern Cape</option>
                        <option value="Other">Other</option>
                       
                    </select>
                     
                    
                    </div>
                      <div class="col-md-4">
                        <label class="form-label"><b>Academic Institution</b></label>
                        <select class="form-select" name="Academic_Institution">
                            <option value="">--- Select Institute * ---</option>
                            {% for institution in distinct_data.institutions %}
                            <option value="{{ institution }}">{{ institution }}</option>
                            {% endfor %}
                        </select>
                    
                    
                    
                    
                    </div>
                      
                      
                      
                      
                      
                      <div class="col-md-4">
                          <label for="race" class="form-label"><b>Race</b></label>
                          <select name="Race" class="form-select">
                            <option value="">-- Select your race * --</option>
                            <option value="African">African</option>
                            <option value="White">White</option>
                            <option value="Indian">Indian</option>
                            <option value="Asian">Asian</option>
                            <option value="Colored">Colored</option>
          
                           </select>
                          </div>
                  </div>
          
                  <!-- Row 4 -->
                  <div class="row mb-3">
                      <div class="col-md-4">
                      <label for="gender" class="form-label"><b>Gender</b></label>
                     <select name="Gender" class="form-select">
                      <option value="">-- Select Gender --</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                      <option value="other">other</option>
    
                     </select>
                     
                    
                    </div>
                      <div class="col-md-4">
                      <label for="placement" class="form-label"><b>Seeking Placement</b></label>
                      <select name="Seeking_Placement" class="form-select">
                        <option value="">-- Select Seeking Placement * --</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                       
      
                       </select>
                     
                    
                    
                    
                    </div>
          
                      <div class="col-md-4">
                          <label for="opportunities" class="form-label"><b>Preffered Opportunities</b></label>
                          <select name="Preferred_Opportunity" class="form-select">
                            <option value="">-- Select Preffered Opportunities --</option>
                            <option value="Yes">Skills Programmes</option>
                            <option value="No">Apprenticeships Grant</option>
                            <option value="WIL - Workplace experience">WIL - Workplace experience</option>
                           
                            <option value="Learnerships Grant">Learnerships Grant</option>
                            <option value="AET Provision Incentive">AET Provision Incentive</option>\
                            <option value="WIL - Workplacement for Employment">WIL - Workplacement for Employment</option>
                            <option value="TVET College Lecturer Development">TVET College Lecturer Development</option>
                            <option value="Bursaries">Bursaries</option>
                            <option value="RPL">RPL</option>
                            <option value="WIL - Workbased Learning">WIL - Workbased Learning</option>
                            
          
                           </select>
                          </div>
                  </div>
          
                  <!-- Row 4 -->
                  
          
      
                  <!-- Buttons -->
                  <div class="d-flex justify-content-between mt-4" style="float:left;">
                      <a href="#" class=""></a>
                      <button type="submit"  class="btn btn-success" style="float:right;">FILTER</button>
                  </div>
                </form>
              </div>



             




              <br>  <br>
              <div class="card">


                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th scope="col">NAME</th>
                      <th scope="col">FIELD OF STUDY</th>
                      <th scope="col">EMAIL</th>
                      <th scope="col">PHONE NUMBER</th>
                      <th scope="col">SEEKING PLACEMENT</th>
                      <th scope="col">ACOUNT STATUS</th>
                      <th scope="col">IS PLACED ?</th>
                      
                    </tr>
                  </thead>
             

                  <tbody>
                    {% for results in fetch_all_applicant_results %}
                    <tr>
                        <td>{{ results.name }}</td>
                        <td>{{ results.field_of_study }}</td>
                        <td>
                          
                          <a href="{{ url_for('administratorViewCV', email=results.email) }}">{{ results.email }}</a>




                        </td>
                        <td>{{ results.contact_number }}</td>
                        <td>{{ results.seeking_placement }}</td>
                        <td>{{ results.is_active }}</td>  
                        <td>{{ results.is_placed }}</td>  
                    </tr>
                    {% endfor %}

                    <!--Filtering result looping-->
                    {% for results_filter_applicants_admin in results_filter_applicants_admin %}
                    <tr>
                        <td>{{ results_filter_applicants_admin.name }}</td>
                        <td>{{ results_filter_applicants_admin.field_of_study }}</td>

                        <td>

                          <a href="{{ url_for('administratorViewCV', email=results_filter_applicants_admin.email) }}">{{ results_filter_applicants_admin.email }}</a>



                        </td>
                        <td>{{ results_filter_applicants_admin.contact_number }}</td>
                        <td>{{ results_filter_applicants_admin.seeking_placement }}</td>
                        <td>{{ results_filter_applicants_admin.is_active }}</td>  
                        <td>{{ results_filter_applicants_admin.is_placed}}</td>  
                    </tr>
                    {% endfor %}
                  
                  
                  
                  
                  
                  </tbody>
                  





               
                
                </table>
                
    
    
    
               
           
    
    
    
    
    
              </div>




              <div class="container mt-4">
                <div class="row">
                  <!-- Left Panel: Activated Users -->
                  <div class="col-md-4">
                    <div class="card p-4">
                    

                      

                      <p >ACTIVATED USERS: </p>
                      <p >PLACEMENT REPORT: </p>
                      <p >NON PLACEMENT REPORT: </p>
                      <p >CV DOWNLOAD REPORT: </p>
                      <p >INACTIVE PROFILE REPORT: {{ incomplete_profiles }}</p>
                      <p >SIGN-UP REPORT: {{ recent_registrations['Learner'] }} Learners, {{ recent_registrations['Company'] }} Companies</p>
                      <p class="text-muted"><em>Report for last 7-days ago</em></p>
                      

                      <br><br><br><br><br><br>
                     
                     
                    
                    </div>
                    <br />
                    <!-- Sidebar Options -->
                  </div>

                  <!-- Right Panel: Bar Chart -->
                  <div class="col-md-8">
                    <div class="card p-4 shadow-sm">
                      <canvas id="userChart"></canvas>
                    </div>
                  </div>
                </div>
              </div>



              

              <!--POP UP WINDOW-->

              <div class="col-md-10 bg-secondary text-white p-4">
                <div class="card">


                  <div class="row">
                    <!-- Sidebar (Left) -->
                    <div class="col-md-4 sidebar">
                        <div class="mb-3">
                            <img src="/static/MYIMAGES/law4.jpg" class="img-fluid rounded-circle d-block mx-auto" width="100" alt="Profile Image">
                        </div>
                  
                                                <div class="contact-box text-center">
                                                  <h5 class="section-title">CONTACT DETAILS</h5>
                                                  {% if cv_data_admin_view_all_cv %}
                                                      <p>{{ cv_data_admin_view_all_cv[0].email }}</p>
                                                      <p>{{ cv_data_admin_view_all_cv[0].contact_number }}</p>
                                                      <p>{{ cv_data_admin_view_all_cv[0].address }}</p>
                                                  {% else %}
                                                      <p>No contact details available.</p>
                                                  {% endif %}
                                              </div>
                  
                                              <div class="education-box">
                                                <h5 class="section-title">EDUCATION</h5>
                                                {% if cv_data_admin_view_all_cv %}
                                                    <div>
                                                        <hr><hr>
                                                        {% for edu in cv_data_admin_view_all_cv if edu.Academic_Institution is defined %}
                                                            <p><strong>{{ edu.Academic_Institution }}</strong>
                                                                <br>Qualifications: <b>{{ edu.Qualification }}</b><br>
                                                                Field of Study: <em><b>{{ edu.Field_of_study }}</b></em><br>
                                                                Completion Status: <em><b>{{ edu.Completion_status }}</b></em><br>
                                                                Country of Study: <em><b>{{ edu.Country }}</b></em><br>
                                                                City of Study: <em><b>{{ edu.City }}</b></em><br>
                                                            </p><hr>
                                                        {% endfor %}
                                                        <hr><hr>
                                                    </div>
                                                {% else %}
                                                    <p>No education details found.</p>
                                                {% endif %}
                                            </div>
                  
                        
                    </div>
                  
                    <!-- Main Content (Right) -->
                    <div class="col-md-8 content">
                                    <div class="cv-header">
                                      {% if cv_data_admin_view_all_cv %}
                                          <h1 style="text-align:center;">
                                              {{ cv_data_admin_view_all_cv[0].firstname }}, {{ cv_data_admin_view_all_cv[0].lastname }}
                                          </h1>

                                        
                                           

                                            <a href="{{url_for('AdminDecisionMaking')}}">  <button>  DECISION</button></a>


                                         
                                      {% else %}
                                          <h1 style="text-align:center;">No Name Available</h1>
                                      {% endif %}
                  
                                      {% set uploaded_docs = cv_data_admin_view_all_cv | selectattr("file_name", "defined") | list %}
                  
                                      {% if uploaded_docs %}
                                          <ul style="text-align:center;">
                                              {% for doc in uploaded_docs %}
                                                  <li>
                                                      <a href="{{ url_for('download_file', filename=doc.file_name) }}" download>
                                                          {{ doc.document_type }}
                                                      </a>
                                                  </li>
                                              {% endfor %}
                                          </ul>
                                      {% else %}
                                          <p style="text-align:center;">No uploaded documents found.</p>
                                      {% endif %}
                                  </div>
                  
                        
                        
                        
                        
                        
                                        <div class="about-me">
                                          <h5 class="section-title">ABOUT ME</h5>
                                          <hr>
                                          {% if cv_data_admin_view_all_cv and cv_data_admin_view_all_cv[0].About_yourself %}
                                              <p style="text-align:justify;">{{ cv_data_admin_view_all_cv[0].About_yourself }}</p>
                                          {% else %}
                                              <p>No personal details available.</p>
                                          {% endif %}
                                      </div>
                  
                                      <div class="experience">
                                        <h5 class="section-title">EXPERIENCE</h5>
                                        <hr>
                                        {% if cv_data_admin_view_all_cv %}
                                            <div>
                                                <hr>
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <td>EMPLOYER</td>
                                                            <td>JOB TITLE</td>
                                                            <td>START DATE</td>
                                                            <td>END DATE</td>
                                                            <td>JOB DESCRIPTION</td>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for work in cv_data_admin_view_all_cv if work.employer_names is defined %}
                                                            <tr>
                                                                <td>{{ work.employer_names }}</td>
                                                                <td>{{ work.job_titles }}</td>
                                                                <td>{{ work.start_date }}</td>
                                                                <td>{{ work.end_date if work.end_date else "Present" }}</td>
                                                                <td>{{ work.job_description }}</td>
                                                            </tr>
                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                                <hr><hr>
                                            </div>
                                        {% else %}
                                            <p>No Work History details found.</p>
                                        {% endif %}
                                    </div>
                  
                  
                  
                  
                                    <div class="experience">
                                      <h5 class="section-title">SKILLS</h5>
                                      <hr>
                                      {% if cv_data_admin_view_all_cv %}
                                          <div>
                                              <hr>
                                              <table class="table">
                                                  <thead>
                                                      <tr>
                                                          <td>SKILLS</td>
                                                          <td>PROFICIENCY</td>
                                                      </tr>
                                                  </thead>
                                                  <tbody>
                                                      {% for skills in cv_data_admin_view_all_cv if skills.skills is defined %}
                                                          <tr>
                                                              <td>{{ skills.skills }}</td>
                                                              <td>{{ skills.proficiency }}</td>
                                                          </tr>
                                                      {% endfor %}
                                                  </tbody>
                                              </table>
                                              <hr><hr>
                                          </div>
                                      {% else %}
                                          <p>No skills found.</p>
                                      {% endif %}
                                  </div>
                   
                   
                   
                   
                      </div>
                  </div>





                </div>


          




              </div>

           
             
          
          

       
       
       



       


    


        

        




        
      </div>

     
     
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <footer class="text-light py-4" style="background-color: #3d1b5c">
      <div class="container">
        <div class="row">
          <!-- Logo and Privacy Policy -->
          <div class="col-md-4">
            <img
              src="/static/images/chietaLogo.png"
              alt="Chieta Logo"
              class="mb-2"
              style="max-width: 150px"
            />
            <p>
              We respect your right to privacy and therefore aim to ensure that
              we comply with the legal requirement of the POPI Act, which
              regulates the manner in which we collect, process, store, share,
              and destroy any personal information you have provided to us.
            </p>
          </div>

          <!-- Quick Links -->
          <div class="col-md-4">
            <h5 class="fw-bold">Quick Links</h5>
            <ul class="list-unstyled">
              <li><a href="#" class="text-warning">About Us</a></li>
              <li><a href="#" class="text-warning">Discretionary Grants</a></li>
              <li><a href="#" class="text-warning">Career Guidance</a></li>
              <li><a href="#" class="text-warning">Tenders</a></li>
              <li><a href="#" class="text-warning">FAQ</a></li>
              <li><a href="#" class="text-warning">Contact Us</a></li>
            </ul>
          </div>

          <!-- Website Use and Social Media -->
          <div class="col-md-4">
            <h5 class="fw-bold">Website Use</h5>
            <p>
              PAIA - This manual has been prepared in terms of the section 51 of
              the Promotion of Access to Information Act.
            </p>
            <h6 class="fw-bold">Join the Conversation</h6>
            <a href="#" class="text-light me-3"
              ><i class="bi bi-facebook"></i
            ></a>
            <a href="#" class="text-light me-3"
              ><i class="bi bi-twitter"></i
            ></a>
            <a href="#" class="text-light me-3"
              ><i class="bi bi-instagram"></i
            ></a>
            <a href="#" class="text-light"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
      </div>
      <div class="text-center py-3" style="background-color: #2e1240">
        <small>Copyright &copy; 2024 CHIETA. All rights reserved.</small>
      </div>
    </footer>

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
      // Chart Data
      const ctx = document.getElementById("userChart").getContext("2d");
      const userChart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: [
            "Jan",
            "Feb",
            "March",
            "April",
            "May",
            "June",
            "July",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Students",
              backgroundColor: "#4b9cfa",
              data: [
                450, 380, 240, 460, 180, 200, 350, 100, 200, 199, 345, 124,
              ],
            },
            {
              label: "Parents",
              backgroundColor: "#f4a742",
              data: [80, 50, 30, 70, 40, 60, 20, 100, 200, 199, 345, 124],
            },
            {
              label: "Teachers",
              backgroundColor: "#909090",
              data: [60, 55, 40, 90, 100, 80, 120, 100, 200, 199, 345, 124],
            },
          ],
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              max: 750,
            },
          },
        },
      });
    </script>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>



<!-- jQuery & Bootstrap -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  
  
  </body>
</html>